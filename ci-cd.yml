steps:
  - uses: actions/checkout@v3

  - name: Set up Python
    uses: actions/setup-python@v4
    with:
      python-version: '3.12'

  - name: Install dependencies
    run: pip install -r requirements.txt

  - name: Run tests
    run: python -m pytest test_main.py

  - name: Build Docker image
    run: docker build -t yourdockerhubusername/your-api-name:latest .

  - name: Log in to Docker Hub
    uses: docker/login-action@v2
    with:
      username: ${{ secrets.DOCKER_USERNAME }}
      password: ${{ secrets.DOCKER_PASSWORD }}

  - name: Push Docker image
    run: docker push yourdockerhubusername/your-api-name:latest
